<style>
.layui-colla-content p label{
    font-weight: bold;
}
.layui-colla-content p .no_expect{
	color:#c85600; 
}
.layui-layer-content .layui-layer-textarea{
	width: 380px;
 	height:85px;
	display: block;
    margin: 0 auto;
    line-height: 30px;
    border: 1px solid #ccc;
    box-shadow: 1px 1px 5px rgba(0,0,0,.1) inset;
    color: #333;
    background-color: white;
    resize: none;
}

</style>
<script>
function convertTime(time){
	if(time>1000){
		return time/1000 +"秒";
	}else if(time>60000){
		return time/60000 +"分钟";
	}
	return time +"毫秒";
}
</script>
<script id="recordList" type="text/html">
<div class="layui-collapse" lay-accordion>
{{#  layui.each(d.list, function(index, item){ }}
  <div class="layui-colla-item">
    <h2 class="layui-colla-title"> 
		<p>执行参数：{{ item.runParams }}&nbsp;&nbsp;期望：{{ item.expectTotal }}条 &nbsp;&nbsp;实际：{{ item.actualTotal }}条&nbsp;&nbsp;执行时间：{{ convertTime(item.carryTime) }} </p>
	</h2>
    <div class="layui-colla-content  {{#  if(index == 0){ }} layui-show {{#  } }}">
      <p><label>开始时间：</label>{{ item.startTime}}&nbsp;&nbsp;<label>结束时间：</label>{{ item.endTime }}</p>
	  <p><label>运行参数：</label>{{ item.runParams }}</p>
	  {{#  if(item.sentence !=''){ }}<p><label>预删除语句：</label>{{ item.sentence }}</p>{{#  } }}
	  <p><label>意外终止：</label>{{#  if(item.failLog !=''){ }}<label class="no_expect">是</label>&nbsp;&nbsp;<a class="layui-btn layui-btn-mini layui-btn-normal retry" id="{{item.id}}">重试</a>{{#  } }} {{#  if(item.failLog ==''){ }}否{{#  } }}</p>
	  {{#  if(item.failLog !=''){ }}<p><label>失败参数：</label>{{ item.failLog }}</p>{{#  } }}
    </div>
  </div>
{{#  }); }}
</div>
</script>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>历史纪录</legend>
</fieldset>
<div id="sentenceDiv" style="display:none;">
<textarea class="layui-layer-textarea" ></textarea>
</div>
<div id="recordDiv">

</div>